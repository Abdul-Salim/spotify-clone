{"version":3,"sources":["spotify.js","recoil/atoms/userAtom.js","components/GetToken.js","components/Login.js","routes/auth.js","components/layouts/auth.js","recoil/atoms/playerStateAtom.js","assets/next-icon.js","assets/previous-icon.js","assets/volume-icon.js","assets/play-icon.js","assets/pause-icons.js","components/test-player/Player.js","components/Footer.js","components/SidebarOption.js","assets/images/spotify-logo-white.png","recoil/atoms/playlistStateAtom.js","components/Sidebar.js","helpers/api.js","services/spotifyFunctions.js","recoil/atoms/headerStateAtom.js","assets/images/cross-icon.js","components/Header.js","components/PlayIcon.js","components/Body.js","components/Player.js","components/TrackSearchResult.js","components/CategoryItem.js","components/Albums.js","components/Search.js","components/SongRow.js","recoil/atoms/activePlaylistAtom.js","assets/images/pause-icon.js","components/PlaylistPlayer.js","components/SearchAll.js","components/Library.js","components/ListAlbumSongs.js","components/ListArtistSongs.js","routes/portal.js","components/layouts/portal.js","routes/index.js","components/App.js","reportWebVitals.js","index.js"],"names":["loginUrl","process","join","spotifyAPI","SpotifyWebApi","clientId","CLIENT_ID","clientSecret","CLIENT_SECRET","userState","atom","key","default","tokenState","discoverWeeklyState","GetToken","navigate","useNavigate","useRecoilState","setToken","useState","loading","setLoading","code","URLSearchParams","window","location","search","get","useEffect","axios","post","then","res","localStorage","setItem","data","refreshToken","accessToken","expires","Date","getTime","expiresIn","spotifyApi","setAccessToken","setRefreshToken","catch","err","style","display","justifyContent","alignItems","minHeight","CircularProgress","Login","className","src","alt","href","AuthRoutes","useRoutes","path","element","to","AuthLayout","getItem","console","log","playerState","playing","playingTrack","Next","onClick","fill","setFill","role","height","width","viewBox","onMouseOver","onMouseLeave","d","Previous","Volume","aria-label","id","class","Play","backgroundColor","borderRadius","Pause","SpotifyPlayer","playerStateVal","setPlayerState","volume","setVolume","progress","undefined","player","setPlayer","script","document","createElement","async","body","appendChild","onSpotifyWebPlaybackSDKReady","Spotify","Player","name","getOAuthToken","cb","addListener","availableDevices","device_id","getMyDevices","devices","filter","device","transferMyPlayback","connect","getMyCurrentPlayingTrack","item","playlisturi","external_urls","uri","getMyCurrentPlaybackState","is_playing","progress_ms","handlePlayPause","pause","play","album","images","url","artists","skipToPrevious","skipToNext","LinearProgress","variant","value","Slider","size","defaultValue","onChangeCommitted","onChange","e","target","Footer","useRecoilValue","SidebarOption","title","Icon","activeClassName","allPlaylists","playlist","Sidebar","playList","SpotifyWhiteLogo","HomeOutlinedIcon","SearchSharpIcon","LibraryMusicSharpIcon","AddBoxRoundedIcon","FavoriteIcon","items","map","CancelToken","cancel","getAccessToken","token","refresh","isNaN","request","options","a","cancel_token","formatRequest","method","params","is_authenticated","content_type","response","handleResponse","route","handleError","hideModal","isAuthenticated","contentType","cancelToken","requestOptions","headers","credentials","Authorization","c","error","status","removeItem","assign","Promise","reject","searchTracks","searchArtists","searchPlaylists","headerState","isBlack","CrossIcon","Header","headerStateVal","setHeaderState","user","setUser","isOpen","setIsOpen","searchValue","setSearchValue","debouncedOnChange","useCallback","debounce","setSearch","pathname","marginLeft","aria-hidden","type","placeholder","length","Avatar","display_name","fontSize","PlayIcon","playPlaylist","x","Number","y","points","Body","ref","useRef","usersTopArtists","newReleases","setNewReleases","featured","setFeatured","show","setShow","getNewReleases","limit","offset","country","getFeaturedPlaylists","timestamp","getMyTopTracks","topTracks","onScroll","current","scrollTop","marginTop","albums","split","substring","playlists","spotify","TrackSearchResult","track","chooseTrack","index","cursor","onMouseEnter","albumUrl","artist","CategoryItem","setSearchPlaylist","getPlaylistsForCategory","color","icons","Albums","categories","setCategories","songs","setSongs","setAlbums","setArtist","searchPlaylist","stopPropagation","getArtistAlbums","keyword","uris","seeall","smallestArtistImage","reduce","smallest","image","smallestPlaylistImage","owner","tracks","smallestAlbumImage","SongRow","date","toISOString","millis","minutes","Math","floor","seconds","toFixed","millisToMinutesAndSeconds","duration_ms","activePlaylist","PauseIcon","inlineSize","blockSize","PlaylistPlayer","useParams","useLocation","active","setActivePlaylist","playlistUri","context_uri","background","primary_color","description","added_at","SearchAll","setPlaylists","Library","ListAlbumSongs","setTracks","setAlbumDetails","getAlbum","t","trackIds","getTracks","playSong","release_date","ListArtistSongs","PortalRoutes","ErrorBoundary","props","state","hasError","errorInfo","children","this","React","Component","Portal","setPlayLists","getUserPlaylists","message","BaseRoutes","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a84935e3.chunk.js","sourcesContent":["import SpotifyWebApi from \"spotify-web-api-node\";\r\n\r\nexport const authEndpoint = \"https://accounts.spotify.com/authorize\";\r\n\r\nconst redirectUri = process.env.REACT_APP_REDIRECT_URI;\r\nconst clientId = \"9a4e88d573a348c6a248ab88fcf6cdee\";\r\nconst scopes = [\r\n  \"streaming\",\r\n  \"user-read-email\",\r\n  \"user-read-private\",\r\n  \"user-library-read\",\r\n  \"user-library-modify\",\r\n  \"user-read-currently-playing\",\r\n  \"user-read-recently-played\",\r\n  \"user-read-playback-state\",\r\n  \"user-top-read\",\r\n  \"user-modify-playback-state\",\r\n];\r\n\r\nexport const getTokenFromUrl = () => {\r\n  const code = new URLSearchParams(window.location.search).get(\"code\");\r\n  return code;\r\n};\r\nexport const loginUrl = `${authEndpoint}?client_id=${clientId}&response_type=code&redirect_uri=${redirectUri}&scope=${scopes.join(\r\n  \"%20\"\r\n)}&show_dialog=true`;\r\n\r\nconst spotifyAPI = new SpotifyWebApi({\r\n  clientId: process.env.CLIENT_ID,\r\n  clientSecret: process.env.CLIENT_SECRET,\r\n});\r\n\r\nexport default spotifyAPI;\r\n","import { atom } from \"recoil\";\r\n\r\nexport const userState = atom({\r\n  key: \"userState\",\r\n  default: null,\r\n});\r\n\r\nexport const tokenState = atom({\r\n  key: \"token\",\r\n  default: \"\",\r\n});\r\n\r\nexport const discoverWeeklyState = atom({\r\n  key: \"\",\r\n  default: null,\r\n});\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport axios from \"axios\";\r\nimport spotifyApi from \"../spotify\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\nimport { tokenState } from \"../recoil/atoms/userAtom\";\r\n\r\nconst GetToken = () => {\r\n  const navigate = useNavigate();\r\n  const [token, setToken] = useRecoilState(tokenState);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const code = new URLSearchParams(window.location.search).get(\"code\");\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    axios\r\n      .post(\"http://localhost:4000/login\", {\r\n        code,\r\n      })\r\n      .then((res) => {\r\n        localStorage.setItem(\"refreshToken\", res?.data?.refreshToken);\r\n        localStorage.setItem(\"accessToken\", res?.data?.accessToken);\r\n        const expires = new Date().getTime() + res?.data?.expiresIn * 1000;\r\n        localStorage.setItem(\"expiresIn\", expires);\r\n        spotifyApi.setAccessToken(res?.data?.accessToken);\r\n        spotifyApi.setRefreshToken(res?.data?.refreshToken);\r\n        setToken(res?.data?.accessToken);\r\n        navigate(\"/\");\r\n      })\r\n      .catch((err) => {\r\n        navigate(\"/auth\");\r\n      });\r\n  }, [code]);\r\n\r\n  // useEffect(() => {\r\n  //   if (accessToken) {\r\n  //     console.log(\"upto this is ok\");\r\n  //     dispatch({\r\n  //       type: \"SET_TOKEN\",\r\n  //       accessToken: accessToken,\r\n  //     });\r\n  //     navigate(\"/home\");\r\n  //   }\r\n  // }, [accessToken, dispatch, history]);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        minHeight: \"100vh\",\r\n      }}\r\n    >\r\n      Logging you in {loading && <CircularProgress />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GetToken;\r\n","import React from \"react\";\r\n\r\nimport \"../styles/Login.css\";\r\nimport { loginUrl } from \"../spotify\";\r\n\r\nfunction Login() {\r\n  return (\r\n    <div className=\"login\">\r\n      <img\r\n        src=\"https://getheavy.com/wp-content/uploads/2019/12/spotify2019-830x350.jpg\"\r\n        alt=\"\"\r\n      />\r\n      <a href={loginUrl}>LOGIN WITH SPOTIFY</a>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import { Navigate, useRoutes } from \"react-router-dom\";\r\nimport Login from \"../components/Login\";\r\nimport GetToken from \"../components/GetToken\";\r\n\r\nconst AuthRoutes = () => {\r\n  let authRoutes = useRoutes([\r\n    // {\r\n    //   path: \"get-token\",\r\n    //   element: <GetToken />,\r\n    // },\r\n    {\r\n      path: \"login\",\r\n      element: <Login />,\r\n    },\r\n    {\r\n      path: \"\",\r\n      element: <Navigate to=\"../login\" />,\r\n    },\r\n  ]);\r\n  return authRoutes;\r\n};\r\n\r\nexport default AuthRoutes;\r\n","import React, { useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { useRecoilState } from \"recoil\";\r\n\r\nimport spotifyApi from \"../../spotify\";\r\nimport AuthRoutes from \"../../routes/auth\";\r\nimport { tokenState } from \"../../recoil/atoms/userAtom\";\r\n\r\nfunction AuthLayout() {\r\n  const navigate = useNavigate();\r\n  const [token, setToken] = useRecoilState(tokenState);\r\n\r\n  const accessToken = localStorage.getItem(\"accessToken\");\r\n  const expiresIn = localStorage.getItem(\"expiresIn\");\r\n  const refreshToken = localStorage.getItem(\"refreshToken\");\r\n\r\n  useEffect(() => {\r\n    if (\r\n      new Date().getTime() <= expiresIn &&\r\n      accessToken &&\r\n      accessToken !== \"undefined\" &&\r\n      refreshToken\r\n    ) {\r\n      spotifyApi.setAccessToken(accessToken);\r\n      setToken(accessToken);\r\n      navigate(\"/\");\r\n    } else {\r\n      if (refreshToken) {\r\n        if (new Date().getTime() >= expiresIn) {\r\n          axios\r\n            .post(\"http://localhost:4000/refresh\", {\r\n              refreshToken,\r\n            })\r\n            .then((res) => {\r\n              console.log(res);\r\n              localStorage.setItem(\"accessToken\", res?.data?.accessToken);\r\n              const expires =\r\n                new Date().getTime() + res?.data?.expiresIn * 1000;\r\n\r\n              localStorage.setItem(\"expiresIn\", expires);\r\n              setToken(res?.data?.accessToken);\r\n              spotifyApi.setAccessToken(accessToken);\r\n              navigate(\"/home\");\r\n            })\r\n            .catch(() => {\r\n              window.location = \"/\";\r\n            });\r\n        }\r\n      } else {\r\n        navigate(\"/auth\");\r\n      }\r\n    }\r\n  }, [accessToken, expiresIn, refreshToken]);\r\n  return (\r\n    <>\r\n      <AuthRoutes />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AuthLayout;\r\n","import { atom } from \"recoil\";\r\n\r\nexport const playerState = atom({\r\n  key: \"playerState\",\r\n  default: {\r\n    playing: false,\r\n    playingTrack: null,\r\n  },\r\n});\r\n","import React, { useState } from \"react\";\r\n\r\nconst Next = ({ onClick }) => {\r\n  const [fill, setFill] = useState(false);\r\n\r\n  return (\r\n    <div className=\"mx-1\" onClick={onClick}>\r\n      <svg\r\n        role=\"img\"\r\n        height=\"16\"\r\n        width=\"16\"\r\n        viewBox=\"0 0 16 16\"\r\n        // className=\"cursor-pointer\"\r\n        fill={fill ? \"#fff\" : \"#bababa\"}\r\n        onMouseOver={() => setFill(true)}\r\n        onMouseLeave={() => setFill(false)}\r\n      >\r\n        <path d=\"M12.7 1a.7.7 0 00-.7.7v5.15L2.05 1.107A.7.7 0 001 1.712v12.575a.7.7 0 001.05.607L12 9.149V14.3a.7.7 0 00.7.7h1.6a.7.7 0 00.7-.7V1.7a.7.7 0 00-.7-.7h-1.6z\"></path>\r\n      </svg>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Next;\r\n","import React, { useState } from \"react\";\r\n\r\nconst Previous = ({ onClick }) => {\r\n  const [fill, setFill] = useState(false);\r\n\r\n  return (\r\n    <div className=\"mx-1\" onClick={onClick}>\r\n      <svg\r\n        role=\"img\"\r\n        height=\"16\"\r\n        width=\"16\"\r\n        viewBox=\"0 0 16 16\"\r\n        fill={fill ? \"#fff\" : \"#bababa\"}\r\n        onMouseOver={() => setFill(true)}\r\n        onMouseLeave={() => setFill(false)}\r\n      >\r\n        <path d=\"M3.3 1a.7.7 0 01.7.7v5.15l9.95-5.744a.7.7 0 011.05.606v12.575a.7.7 0 01-1.05.607L4 9.149V14.3a.7.7 0 01-.7.7H1.7a.7.7 0 01-.7-.7V1.7a.7.7 0 01.7-.7h1.6z\"></path>\r\n      </svg>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Previous;\r\n","import React from \"react\";\r\n\r\nconst Volume = () => {\r\n  return (\r\n    <div className=\"mx-2\">\r\n      <svg\r\n        role=\"presentation\"\r\n        height=\"16\"\r\n        width=\"16\"\r\n        aria-label=\"Volume\"\r\n        id=\"volume-icon\"\r\n        viewBox=\"0 0 16 16\"\r\n        class=\"Svg-sc-1bi12j5-0 EQkJl\"\r\n      >\r\n        <path d=\"M9.741.85a.75.75 0 01.375.65v13a.75.75 0 01-1.125.65l-6.925-4a3.642 3.642 0 01-1.33-4.967 3.639 3.639 0 011.33-1.332l6.925-4a.75.75 0 01.75 0zm-6.924 5.3a2.139 2.139 0 000 3.7l5.8 3.35V2.8l-5.8 3.35zm8.683 6.087a4.502 4.502 0 000-8.474v1.65a2.999 2.999 0 010 5.175v1.649z\"></path>\r\n      </svg>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Volume;\r\n","import React, { useState } from \"react\";\r\n\r\nconst Play = ({ onClick }) => {\r\n  const [fill, setFill] = useState(false);\r\n\r\n  return (\r\n    <div\r\n      className=\"mx-1\"\r\n      style={{\r\n        backgroundColor: fill ? \"#fff\" : \"#bababa\",\r\n        borderRadius: \"50%\",\r\n        height: \"32px\",\r\n        width: \"32px\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n      }}\r\n      onMouseOver={() => setFill(true)}\r\n      onMouseLeave={() => setFill(false)}\r\n      onClick={onClick}\r\n    >\r\n      <svg role=\"img\" height=\"16\" width=\"16\" viewBox=\"0 0 16 16\" fill=\"black\">\r\n        <path d=\"M3 1.713a.7.7 0 011.05-.607l10.89 6.288a.7.7 0 010 1.212L4.05 14.894A.7.7 0 013 14.288V1.713z\"></path>\r\n      </svg>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Play;\r\n","import React, { useState } from \"react\";\r\n\r\nconst Pause = ({ onClick }) => {\r\n  const [fill, setFill] = useState(false);\r\n\r\n  return (\r\n    <div\r\n      className=\"mx-1\"\r\n      style={{\r\n        backgroundColor: fill ? \"#fff\" : \"#bababa\",\r\n        borderRadius: \"50%\",\r\n        height: \"32px\",\r\n        width: \"32px\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n      }}\r\n      onMouseOver={() => setFill(true)}\r\n      onMouseLeave={() => setFill(false)}\r\n      onClick={onClick}\r\n    >\r\n      <svg role=\"img\" height=\"16\" width=\"16\" viewBox=\"0 0 16 16\" fill=\"black\">\r\n        <path d=\"M2.7 1a.7.7 0 00-.7.7v12.6a.7.7 0 00.7.7h2.6a.7.7 0 00.7-.7V1.7a.7.7 0 00-.7-.7H2.7zm8 0a.7.7 0 00-.7.7v12.6a.7.7 0 00.7.7h2.6a.7.7 0 00.7-.7V1.7a.7.7 0 00-.7-.7h-2.6z\"></path>\r\n      </svg>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pause;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport Next from \"../../assets/next-icon\";\r\nimport Previous from \"../../assets/previous-icon\";\r\nimport PlayCircleFilledWhiteIcon from \"@mui/icons-material/PlayCircleFilledWhite\";\r\nimport PauseCircleIcon from \"@mui/icons-material/PauseCircle\";\r\n\r\nimport { playerState } from \"../../recoil/atoms/playerStateAtom\";\r\nimport spotifyAPI from \"../../spotify\";\r\nimport Volume from \"../../assets/volume-icon\";\r\nimport { LinearProgress, Slider } from \"@mui/material\";\r\nimport Play from \"../../assets/play-icon\";\r\nimport Pause from \"../../assets/pause-icons\";\r\n\r\nconst SpotifyPlayer = () => {\r\n  const accessToken = localStorage.getItem(\"accessToken\");\r\n  const [playerStateVal, setPlayerState] = useRecoilState(playerState);\r\n\r\n  const [volume, setVolume] = useState(50);\r\n  const [progress, setProgress] = useState(0);\r\n  const [step, setStep] = useState(0);\r\n\r\n  useEffect(() => {\r\n    console.log(playerStateVal);\r\n  }, [playerStateVal]);\r\n\r\n  const fetchCurrentSong = () => {\r\n    spotifyAPI.getMyCurrentPlayingTrack().then((data) => {\r\n      setPlayerState({\r\n        ...playerStateVal,\r\n        playingTrack: data?.body?.item,\r\n        playlisturi: data?.body?.external_urls?.uri,\r\n      });\r\n    });\r\n\r\n    spotifyAPI.getMyCurrentPlaybackState().then((data) => {\r\n      setPlayerState({\r\n        ...playerStateVal,\r\n        playing: data?.body?.is_playing,\r\n        progress: data?.body?.progress_ms,\r\n      });\r\n    });\r\n  };\r\n  const [player, setPlayer] = useState(undefined);\r\n\r\n  const handleVolume = () => {\r\n    spotifyAPI.setVolume(volume);\r\n  };\r\n\r\n  // useEffect(() => {\r\n  //   let availableDevices;\r\n  //   spotifyAPI.setAccessToken(accessToken);\r\n  //   spotifyAPI\r\n  //     .getMyDevices()\r\n  //     .then((data) => {\r\n  //       availableDevices = data.body.devices.filter(\r\n  //         (device) => device?.name === \"Spotify-clone-player\"\r\n  //       );\r\n  //       console.log(availableDevices);\r\n  //       spotifyAPI\r\n  //         .transferMyPlayback(availableDevices[0])\r\n  //         .then(() => {\r\n  //           console.log(\"Transfering playback to \" + availableDevices);\r\n  //         })\r\n  //         .catch((err) => {\r\n  //           console.log(\"Something went wrong!\", err);\r\n  //         });\r\n  //     })\r\n  //     .catch((err) => {\r\n  //       console.log(\"Something went wrong!\", err);\r\n  //     });\r\n  //   if (!playerStateVal?.playingTrack) {\r\n  //     fetchCurrentSong();\r\n  //     setVolume(50);\r\n  //   }\r\n  // }, []);\r\n\r\n  useEffect(() => {\r\n    console.log(\"hi\");\r\n    const script = document.createElement(\"script\");\r\n    script.src = \"https://sdk.scdn.co/spotify-player.js\";\r\n    script.async = true;\r\n\r\n    document.body.appendChild(script);\r\n\r\n    window.onSpotifyWebPlaybackSDKReady = () => {\r\n      const player = new window.Spotify.Player({\r\n        name: \"Spotify-clone-player\",\r\n        getOAuthToken: (cb) => {\r\n          cb(accessToken);\r\n        },\r\n        volume: 0.5,\r\n      });\r\n\r\n      setPlayer(player);\r\n      player.addListener(\"ready\", ({ device_id }) => {\r\n        spotifyAPI.setAccessToken(accessToken);\r\n\r\n        let availableDevices;\r\n        spotifyAPI.setAccessToken(accessToken);\r\n        spotifyAPI\r\n          .getMyDevices()\r\n          .then((data) => {\r\n            availableDevices = data.body.devices.filter(\r\n              (device) => device?.name === \"Spotify-clone-player\"\r\n            );\r\n            spotifyAPI\r\n              .transferMyPlayback([availableDevices[0]?.id])\r\n              .then(() => {})\r\n              .catch((err) => {});\r\n          })\r\n          .catch((err) => {});\r\n      });\r\n\r\n      player.addListener(\"not_ready\", ({ device_id }) => {});\r\n      player.connect();\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    console.log(\"first\");\r\n    if (player && !playerStateVal?.playingTrack) {\r\n      fetchCurrentSong();\r\n      setVolume(50);\r\n    }\r\n  }, [player]);\r\n\r\n  const handlePlayPause = () => {\r\n    spotifyAPI.setAccessToken(accessToken);\r\n    spotifyAPI.getMyCurrentPlaybackState().then((data) => {\r\n      if (data?.body?.is_playing) {\r\n        spotifyAPI.pause();\r\n        setPlayerState({\r\n          ...playerStateVal,\r\n          playing: false,\r\n          progress: data?.body?.progress_ms,\r\n        });\r\n      } else {\r\n        spotifyAPI.play();\r\n        setPlayerState({\r\n          ...playerStateVal,\r\n          playing: true,\r\n          progress: data?.body?.progress_ms,\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const next = () => {\r\n    spotifyAPI.skipToNext();\r\n  };\r\n\r\n  const previous = () => {\r\n    spotifyAPI.skipToPrevious();\r\n  };\r\n\r\n  // useEffect(() => {\r\n  //   if (playerStateVal?.playing) {\r\n  //     const duration = playerStateVal?.playingTrack?.duration_ms;\r\n  //     let x = duration / 100;\r\n  //     setStep(x * 1000);\r\n  //     const interval = setInterval(() => {\r\n  //       setProgress((prev) => prev + step);\r\n  //     }, 1000);\r\n\r\n  //     return () => {\r\n  //       clearInterval(interval);\r\n  //     };\r\n  //   }\r\n  // }, [playerStateVal?.playing]);\r\n\r\n  return (\r\n    <div className=\"footer-player\">\r\n      <div className=\"d-flex footer-left\">\r\n        <img\r\n          src={playerStateVal?.playingTrack?.album?.images?.[0]?.url}\r\n          width={64}\r\n          height={64}\r\n          alt=\"\"\r\n        />\r\n        <div className=\"d-flex flex-column justify-content-center px-2\">\r\n          <h3 className=\"track-name\">{playerStateVal?.playingTrack?.name}</h3>\r\n          <p className=\"artist-name\">\r\n            {playerStateVal?.playingTrack?.artists?.[0]?.name}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div className=\"footer-center\">\r\n        <div className=\"d-flex w-100 justify-content-center align-items-center\">\r\n          <Previous onClick={previous} />\r\n          {playerStateVal?.playing ? (\r\n            <Pause onClick={handlePlayPause} />\r\n          ) : (\r\n            <Play onClick={handlePlayPause} />\r\n          )}\r\n          <Next onClick={next} />\r\n        </div>\r\n        <div className=\"px-5 mt-2\">\r\n          <LinearProgress variant=\"determinate\" value={progress} />\r\n        </div>\r\n      </div>\r\n      <div className=\"d-flex footer-right\">\r\n        <Volume />\r\n        <Slider\r\n          size=\"small\"\r\n          aria-label=\"Volume\"\r\n          defaultValue={70}\r\n          value={volume}\r\n          onChangeCommitted={handleVolume}\r\n          onChange={(e) => setVolume(e?.target?.value)}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SpotifyPlayer;\r\n","import React from \"react\";\r\nimport { useRecoilValue } from \"recoil\";\r\n\r\nimport AudioPlayer from \"./AudioPlayer\";\r\n\r\nimport \"../styles/Footer.css\";\r\nimport { playerState } from \"../recoil/atoms/playerStateAtom\";\r\nimport SpotifyPlayer from \"./test-player/Player\";\r\n\r\nfunction Footer() {\r\n  const { playingTrack } = useRecoilValue(playerState);\r\n  const accessToken = localStorage.getItem(\"accessToken\");\r\n\r\n  return (\r\n    accessToken && (\r\n      // <AudioPlayer accessToken={accessToken} trackUri={playingTrack?.uri} />\r\n      <SpotifyPlayer />\r\n    )\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nimport \"../styles/SidebarOption.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nfunction SidebarOption({ title, Icon, id, key }) {\r\n  return (\r\n    <div className=\"sidebarOption\" key={key}>\r\n      {Icon && <Icon className=\"sidebarOption__icon\" />}\r\n      {Icon ? (\r\n        <h4>{title}</h4>\r\n      ) : (\r\n        <NavLink to={`/playlist/${id}`} activeClassName=\"playlist-active\">\r\n          <p className=\"playlist-title\">{title}</p>{\" \"}\r\n        </NavLink>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SidebarOption;\r\n","export default __webpack_public_path__ + \"static/media/spotify-logo-white.f48fb565.png\";","import { atom } from \"recoil\";\r\n\r\nexport const allPlaylists = atom({\r\n  key: \"playlistState\",\r\n  default: {\r\n    playlist: [],\r\n  },\r\n});\r\n","import React, { useEffect } from \"react\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport \"../styles/Sidebar.css\";\r\nimport SidebarOption from \"./SidebarOption\";\r\nimport HomeOutlinedIcon from \"@mui/icons-material/HomeOutlined\";\r\nimport SearchSharpIcon from \"@mui/icons-material/SearchSharp\";\r\nimport LibraryMusicSharpIcon from \"@mui/icons-material/LibraryMusicSharp\";\r\nimport AddBoxRoundedIcon from \"@mui/icons-material/AddBoxRounded\";\r\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\r\n\r\nimport { Link, NavLink } from \"react-router-dom\";\r\nimport SpotifyWhiteLogo from \"../assets/images/spotify-logo-white.png\";\r\nimport { allPlaylists } from \"../recoil/atoms/playlistStateAtom\";\r\n\r\nfunction Sidebar() {\r\n  const accessToken = localStorage.getItem(\"accessToken\");\r\n  const [playList, setPlayLists] = useRecoilState(allPlaylists);\r\n\r\n  // useEffect(() => {\r\n  //   if (accessToken) {\r\n  //     spotifyApi?.setAccessToken(accessToken);\r\n  //     spotifyApi\r\n  //       ?.getUserPlaylists()\r\n  //       .then((res) => {\r\n  //         setPlayLists({ ...playList, playlist: res?.body });\r\n  //       })\r\n  //       .catch((err) => {\r\n  //         console.log(err.message);\r\n  //       });\r\n  //   }\r\n  // }, [accessToken]);\r\n\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <NavLink to=\"/\">\r\n        <img src={SpotifyWhiteLogo} alt=\"\" className=\"sidebar__logo\" />\r\n      </NavLink>\r\n\r\n      <NavLink to=\"/\">\r\n        <SidebarOption title=\"Home\" Icon={HomeOutlinedIcon} />\r\n      </NavLink>\r\n      <NavLink to=\"/search\">\r\n        <SidebarOption title=\"Search\" Icon={SearchSharpIcon} />\r\n      </NavLink>\r\n      <NavLink to=\"/library\">\r\n        <SidebarOption title=\"Your Library\" Icon={LibraryMusicSharpIcon} />\r\n      </NavLink>\r\n      <br />\r\n      <NavLink to=\"/create-playlist\">\r\n        <SidebarOption title=\"Create Playlist\" Icon={AddBoxRoundedIcon} />\r\n      </NavLink>\r\n      <NavLink to=\"/liked\">\r\n        <SidebarOption title=\"Liked Songs\" Icon={FavoriteIcon} />\r\n      </NavLink>\r\n      <hr className=\"line\" />\r\n      <div className=\"playlists\">\r\n        {/* <strong className=\"sidebar__title\">PLAYLISTS</strong> */}\r\n        {playList?.items?.map((playlist) => (\r\n          <SidebarOption\r\n            key={playlist.id}\r\n            title={playlist.name}\r\n            playlist={playlist}\r\n            id={playlist.id}\r\n          />\r\n          // console.log(playlist.name);\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Sidebar;\r\n","import axios from \"axios\";\r\n\r\nconst { CancelToken } = axios;\r\n\r\nconst cancel = {};\r\n\r\nexport const getAccessToken = () => {\r\n  const token = localStorage.getItem(\"accessToken\");\r\n  const refresh = localStorage.getItem(\"refreshToken\");\r\n  const expires = localStorage.getItem(\"expiresIn\");\r\n  if (refresh) {\r\n    if (\r\n      new Date().getTime() >= expires ||\r\n      isNaN(expires) ||\r\n      token === \"undefined\" ||\r\n      !token\r\n    ) {\r\n      axios\r\n        .post(\"http://localhost:4000/refresh\", {\r\n          refresh,\r\n        })\r\n        .then((res) => {\r\n          localStorage.setItem(\"accessToken\", res?.data?.accessToken);\r\n          const expires = new Date().getTime() + res?.data?.expiresIn * 1000;\r\n          localStorage.setItem(\"expiresIn\", expires);\r\n          return res?.data?.accessToken;\r\n        })\r\n        .catch(() => {\r\n          window.location = \"/auth\";\r\n        });\r\n    } else {\r\n      return token;\r\n    }\r\n  } else {\r\n    window.location = \"/auth\";\r\n  }\r\n};\r\n// Common Request\r\nexport async function request(options) {\r\n  if (options.cancel_token && cancel[options.cancel_token]) {\r\n    cancel[options.cancel_token]();\r\n  }\r\n  try {\r\n    const response = await axios(\r\n      formatRequest(\r\n        options.method,\r\n        options.url,\r\n        options.params,\r\n        options.is_authenticated,\r\n        options.content_type,\r\n        options.cancel_token\r\n      )\r\n    );\r\n    return handleResponse(options.route, response, options.is_authenticated);\r\n  } catch (error) {\r\n    return handleError(options.route, error, options.hideModal);\r\n  }\r\n}\r\n\r\n// Formate Request Options\r\nexport function formatRequest(\r\n  method = \"GET\",\r\n  url = null,\r\n  params = null,\r\n  isAuthenticated = true,\r\n  contentType = \"json\",\r\n  cancelToken = null\r\n) {\r\n  const requestOptions = {\r\n    headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n    credentials: \"include\",\r\n    method,\r\n    url: `${process.env.REACT_APP_API_URL}${url}`,\r\n  };\r\n  if (isAuthenticated) {\r\n    const accessToken = getAccessToken();\r\n\r\n    if (accessToken) {\r\n      requestOptions.headers.Authorization = `${accessToken}`;\r\n    }\r\n  }\r\n\r\n  if (method === \"GET\" && params) {\r\n    requestOptions.params = params;\r\n  } else if (contentType === \"json\") {\r\n    requestOptions.headers[\"Content-Type\"] = \"application/json\";\r\n    requestOptions.data = params;\r\n  } else {\r\n    requestOptions.data = params;\r\n  }\r\n  if (cancelToken) {\r\n    requestOptions.cancelToken = new CancelToken((c) => {\r\n      cancel[cancelToken] = c;\r\n    });\r\n  }\r\n\r\n  return requestOptions;\r\n}\r\n\r\n// Handle Error  Response\r\nexport function handleError(route, error, hideModal) {\r\n  if (error && error.response) {\r\n    if (error.response.status === 401) {\r\n      hideModal && hideModal();\r\n      localStorage.removeItem(\"userAccessToken\");\r\n      window.location.assign(\"/auth\");\r\n    }\r\n  }\r\n  return Promise.reject(error);\r\n}\r\n\r\n// Handle Response\r\nexport function handleResponse(route, response) {\r\n  return response;\r\n}\r\n\r\nexport default request;\r\n","import { request } from \"../helpers/api\";\r\n\r\nexport const login = (params) =>\r\n  request({\r\n    method: \"POST\",\r\n    url: \"/api/login\",\r\n    params,\r\n  });\r\n\r\nexport const getPlaylists = () =>\r\n  request({\r\n    method: \"GET\",\r\n    url: \"/playlists\",\r\n  });\r\n\r\nexport const getPlaylist = (params) =>\r\n  request({\r\n    method: \"GET\",\r\n    url: \"/playlist\",\r\n    params,\r\n  });\r\n\r\nexport const getMe = () =>\r\n  request({\r\n    method: \"GET\",\r\n    url: \"/me\",\r\n  });\r\n\r\nexport const searchTracks = (params) =>\r\n  request({\r\n    method: \"GET\",\r\n    url: \"/search-tracks\",\r\n    params,\r\n  });\r\n\r\nexport const searchArtists = (params) =>\r\n  request({\r\n    method: \"GET\",\r\n    url: \"/search-artists\",\r\n    params,\r\n  });\r\n\r\nexport const searchPlaylists = (params) =>\r\n  request({\r\n    method: \"GET\",\r\n    url: \"/search-playlists\",\r\n    params,\r\n  });\r\n\r\nexport const searchAlbums = (params) =>\r\n  request({\r\n    method: \"GET\",\r\n    url: \"/search-albums\",\r\n    params,\r\n  });\r\n\r\nexport const getCategories = (params) =>\r\n  request({\r\n    method: \"GET\",\r\n    url: \"/categories\",\r\n    params,\r\n  });\r\n","import { atom } from \"recoil\";\r\n\r\nexport const headerState = atom({\r\n  key: \"headerState\",\r\n  default: {\r\n    isBlack: false,\r\n    search: \"\",\r\n  },\r\n});\r\n","import React from \"react\";\r\n\r\nconst CrossIcon = ({ className, onClick }) => {\r\n  return (\r\n    <span className={className} onClick={onClick}>\r\n      <svg\r\n        role=\"img\"\r\n        height=\"24\"\r\n        width=\"24\"\r\n        class=\"Svg-sc-1bi12j5-0 jgfuCe mOLTJ2mxkzHJj6Y9_na_\"\r\n        viewBox=\"0 0 24 24\"\r\n      >\r\n        <path d=\"M3.293 3.293a1 1 0 011.414 0L12 10.586l7.293-7.293a1 1 0 111.414 1.414L13.414 12l7.293 7.293a1 1 0 01-1.414 1.414L12 13.414l-7.293 7.293a1 1 0 01-1.414-1.414L10.586 12 3.293 4.707a1 1 0 010-1.414z\"></path>\r\n      </svg>\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default CrossIcon;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { debounce } from \"lodash\";\r\n\r\nimport Avatar from \"@mui/material/Avatar\";\r\nimport KeyboardArrowDownSharpIcon from \"@mui/icons-material/KeyboardArrowDownSharp\";\r\nimport KeyboardArrowUpSharpIcon from \"@mui/icons-material/KeyboardArrowUpSharp\";\r\nimport SearchIcon from \"@mui/icons-material/Search\";\r\nimport ArrowBackIosIcon from \"@mui/icons-material/ArrowBackIos\";\r\nimport ArrowForwardIosIcon from \"@mui/icons-material/ArrowForwardIos\";\r\nimport LaunchIcon from \"@mui/icons-material/Launch\";\r\n\r\nimport \"../styles/Header.css\";\r\nimport { getMe } from \"../services/spotifyFunctions\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { userState } from \"../recoil/atoms/userAtom\";\r\nimport { headerState } from \"../recoil/atoms/headerStateAtom\";\r\nimport CrossIcon from \"../assets/images/cross-icon\";\r\n\r\nconst Header = () => {\r\n  const [headerStateVal, setHeaderState] = useRecoilState(headerState);\r\n  const [user, setUser] = useRecoilState(userState);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const accessToken = localStorage.getItem(\"accessToken\");\r\n  const navigate = useNavigate();\r\n\r\n  const goBack = () => {\r\n    navigate(-1);\r\n  };\r\n\r\n  const setSearch = (e) => {\r\n    setHeaderState({ ...headerStateVal, search: e?.target?.value });\r\n  };\r\n\r\n  const debouncedOnChange = useCallback(\r\n    debounce((e) => setSearch(e), 600),\r\n    []\r\n  );\r\n\r\n  const onChange = (e) => {\r\n    setSearchValue(e.target.value);\r\n    debouncedOnChange(e);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (accessToken) {\r\n      getMe()\r\n        ?.then((res) => {\r\n          console.log(res);\r\n          setUser(res?.data);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"err\", err);\r\n        });\r\n    }\r\n  }, [accessToken]);\r\n\r\n  return (\r\n    <div\r\n      className={`header ${headerStateVal?.isBlack && \"grey\"}`}\r\n      style={{\r\n        justifyContent: \"space-between\",\r\n        backgroundColor: !window.location?.pathname === \"/search\" && \"#040404\",\r\n      }}\r\n    >\r\n      <div className=\"header__left\">\r\n        <div style={{ marginLeft: \"0\", display: \"flex\" }}>\r\n          <span className=\"back-icon cursor-pointer\" onClick={() => goBack()}>\r\n            <ArrowBackIosIcon />\r\n          </span>\r\n          <span\r\n            className=\"front-icon cursor-pointer\"\r\n            onClick={() => navigate(1)}\r\n          >\r\n            <ArrowForwardIosIcon />\r\n          </span>\r\n        </div>\r\n        {window.location?.pathname === \"/search\" && (\r\n          <div className=\"position-relative\">\r\n            <svg\r\n              role=\"img\"\r\n              height=\"24\"\r\n              width=\"24\"\r\n              class=\"Svg-sc-1bi12j5-0 jgfuCe mOLTJ2mxkzHJj6Y9_na_\"\r\n              aria-hidden=\"true\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path d=\"M10.533 1.279c-5.18 0-9.407 4.14-9.407 9.279s4.226 9.279 9.407 9.279c2.234 0 4.29-.77 5.907-2.058l4.353 4.353a1 1 0 101.414-1.414l-4.344-4.344a9.157 9.157 0 002.077-5.816c0-5.14-4.226-9.28-9.407-9.28zm-7.407 9.279c0-4.006 3.302-7.28 7.407-7.28s7.407 3.274 7.407 7.28-3.302 7.279-7.407 7.279-7.407-3.273-7.407-7.28z\"></path>\r\n            </svg>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search for Artist, Songs \"\r\n              value={searchValue}\r\n              onChange={onChange}\r\n            />\r\n            {searchValue?.length > 0 ? (\r\n              <CrossIcon className=\"cross\" onClick={() => setSearchValue(\"\")} />\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className=\"profile\" onClick={() => setIsOpen(!isOpen)}>\r\n        <Avatar src={user?.images[0]?.url} alt={user?.display_name} />\r\n        <h6 className=\"m-0 ms-2\">{user?.display_name}</h6>\r\n        {isOpen ? <KeyboardArrowUpSharpIcon /> : <KeyboardArrowDownSharpIcon />}\r\n      </div>\r\n      {isOpen ? (\r\n        <div className=\"profile-menu\">\r\n          <div className=\"menu-item\">\r\n            <p>Account</p>\r\n            <span>\r\n              <LaunchIcon fontSize=\"small\" />\r\n            </span>\r\n          </div>\r\n          <div className=\"menu-item\">\r\n            <p>Profile</p>\r\n          </div>\r\n          <div className=\"menu-item\">\r\n            <p>Log out</p>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nconst PlayIcon = ({ height, width, item, playPlaylist }) => {\r\n  const x = Number(width) / 2;\r\n  const y = Number(height) / 2;\r\n  return (\r\n    <div\r\n      className=\"spotify-play\"\r\n      style={{ height: `${height}px`, width: `${width}px` }}\r\n      onClick={(e) => playPlaylist(e, item)}\r\n    >\r\n      <svg\r\n        height={y}\r\n        role=\"img\"\r\n        width={x}\r\n        viewBox=\"0 0 24 24\"\r\n        aria-hidden=\"true\"\r\n      >\r\n        <polygon\r\n          points=\"21.57 12 5.98 3 5.98 21 21.57 12\"\r\n          fill=\"#ffffff\"\r\n        ></polygon>\r\n      </svg>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlayIcon;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { useRecoilValue, useRecoilState } from \"recoil\";\r\n\r\nimport \"../styles/Body.css\";\r\nimport PlayIcon from \"./PlayIcon\";\r\nimport { discoverWeeklyState } from \"../recoil/atoms/userAtom\";\r\nimport spotifyAPI from \"../spotify\";\r\nimport { playerState } from \"../recoil/atoms/playerStateAtom\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { headerState } from \"../recoil/atoms/headerStateAtom\";\r\n\r\nconst Body = () => {\r\n  const ref = useRef();\r\n  const navigate = useNavigate();\r\n  const [playerStateVal, setPlayerState] = useRecoilState(playerState);\r\n  const [headerStateVal, setHeaderState] = useRecoilState(headerState);\r\n  const discoverWeekly = useRecoilValue(discoverWeeklyState);\r\n  const [usersTopArtists, setusersTopArtists] = useState([]);\r\n  const [newReleases, setNewReleases] = useState([]);\r\n  const [featured, setFeatured] = useState([]);\r\n  const [show, setShow] = useState();\r\n  const accessToken = localStorage.getItem(\"accessToken\");\r\n  // const playPlaylist = (id) => {\r\n  //   dispatch({\r\n  //     type: \"SET_PLAYING_TRACK\",\r\n  //     playingTrack: id,\r\n  //   });\r\n  // };\r\n  // const playSong = (track) => {\r\n  //   dispatch({\r\n  //     type: \"SET_PLAYING_TRACK\",\r\n  //     playingTrack: track,\r\n  //   });\r\n  // };\r\n  // const chooseTrack = (track) => {\r\n  //   dispatch({\r\n  //     type: \"SET_PLAYING_TRACK\",\r\n  //     playingTrack: track,\r\n  //   });\r\n  // };\r\n\r\n  useEffect(() => {\r\n    if (!accessToken) return;\r\n    spotifyAPI.setAccessToken(accessToken);\r\n    spotifyAPI\r\n      .getNewReleases({ limit: 5, offset: 0, country: \"IN\" })\r\n      .then((data) => {\r\n        setNewReleases(data?.body);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Something went wrong!\", err);\r\n      });\r\n    spotifyAPI\r\n      .getFeaturedPlaylists({\r\n        limit: 5,\r\n        offset: 1,\r\n        country: \"IN\",\r\n        timestamp: \"2014-10-23T09:00:00\",\r\n      })\r\n      .then((data) => {\r\n        setFeatured(data?.body);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Something went wrong!\", err);\r\n      });\r\n\r\n    spotifyAPI.getMyTopTracks().then(\r\n      function (data) {\r\n        let topTracks = data.body.items;\r\n        console.log(topTracks);\r\n      },\r\n      function (err) {\r\n        console.log(\"Something went wrong!\", err);\r\n      }\r\n    );\r\n  }, [accessToken]);\r\n\r\n  const playPlaylist = (e, id) => {\r\n    console.log(id);\r\n    // e.stopPropogation();\r\n    setPlayerState({ ...playerStateVal, playingTrack: id });\r\n  };\r\n\r\n  const changeNavbarColor = () => {\r\n    if (ref.current.scrollTop >= 80) {\r\n      setHeaderState({ ...headerStateVal, isBlack: true });\r\n    } else {\r\n      setHeaderState({ ...headerStateVal, isBlack: false });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"body\" ref={ref} onScroll={changeNavbarColor}>\r\n      <div style={{ marginTop: \"40px\" }}>\r\n        <div className=\"search-results\">\r\n          {usersTopArtists?.map((item) => (\r\n            <div className=\"\">{/* <img src={item.} */}</div>\r\n          ))}\r\n          {/* <PlayIcon height=\"56\" width=\"56\" /> */}\r\n          <div className=\"body__songs\">\r\n            {/* <div className=\"body__icons\">\r\n          <PlayCircleIcon\r\n            className=\"body__shuffle\"\r\n            onClick={() => playPlaylist(playlists?.items[1])}\r\n          />\r\n          <FavoriteIcon fontSize=\"large\" />\r\n          <MoreHorizIcon />\r\n        </div> */}\r\n            <div className=\"result-head\">\r\n              <h2 className=\"head text-white\">New Releases</h2>\r\n              <Link to=\"/\" className=\"see-all\">\r\n                SEE ALL\r\n              </Link>\r\n            </div>\r\n\r\n            <div className=\"search-result-artist\">\r\n              {newReleases?.albums?.items?.map((item) => (\r\n                <div\r\n                  onClick={() =>\r\n                    navigate(`/albums/${item?.uri?.split(\":\")[2]}`)\r\n                  }\r\n                  className=\"search-link\"\r\n                >\r\n                  <div\r\n                    className=\"artist-card\"\r\n                    onClick={(e) => playPlaylist(e, item)}\r\n                    onMouseOver={() => {\r\n                      setShow(item.uri);\r\n                    }}\r\n                    onMouseLeave={() => {\r\n                      setShow();\r\n                    }}\r\n                  >\r\n                    <div className=\"card-inner\">\r\n                      <img\r\n                        src={item?.images[0]?.url}\r\n                        alt=\"artist\"\r\n                        className=\"playlist-image\"\r\n                      />\r\n                      {show === item.uri && (\r\n                        <PlayIcon\r\n                          width=\"40\"\r\n                          height=\"40\"\r\n                          playPlaylist={() => playPlaylist(item)}\r\n                        />\r\n                      )}\r\n                    </div>\r\n                    <div className=\"card-outer\">\r\n                      <p className=\"mt-2\">\r\n                        {item.name?.length > 15\r\n                          ? item.name?.substring(0, 15) + \"...\"\r\n                          : item.name}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            <div className=\"result-head\">\r\n              <h2 className=\"head text-white\">Featured</h2>\r\n              <Link to=\"/\" className=\"see-all\">\r\n                SEE ALL\r\n              </Link>\r\n            </div>\r\n            <div className=\"search-result-artist\">\r\n              {featured?.playlists?.items?.map((item) => (\r\n                <Link\r\n                  to={`/playlist/${item?.uri?.split(\":\")[2]}`}\r\n                  className=\"search-link\"\r\n                >\r\n                  <div\r\n                    className=\"artist-card\"\r\n                    onClick={() => playPlaylist(item)}\r\n                    onMouseOver={() => {\r\n                      setShow(item.uri);\r\n                    }}\r\n                    onMouseLeave={() => {\r\n                      setShow();\r\n                    }}\r\n                  >\r\n                    <div className=\"card-inner\">\r\n                      <img\r\n                        src={item?.images[0]?.url}\r\n                        alt=\"artist\"\r\n                        className=\"playlist-image\"\r\n                      />\r\n                      {show === item.uri && (\r\n                        <PlayIcon\r\n                          width=\"40\"\r\n                          height=\"40\"\r\n                          playPlaylist={() => playPlaylist(item)}\r\n                        />\r\n                      )}\r\n                    </div>\r\n                    <div className=\"card-outer\">\r\n                      <p className=\"mt-1\">\r\n                        {item.name?.length > 15\r\n                          ? item.name?.substring(0, 15) + \"...\"\r\n                          : item.name}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </Link>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Body;\r\n","import React from \"react\";\r\n\r\nimport Body from \"./Body\";\r\nimport \"../styles/Player.css\";\r\nimport spotifyApi from \"../spotify\";\r\n\r\nfunction Player() {\r\n  // const code = getTokenFromUrl();\r\n  // useEffect(() => {\r\n  //   if (accessToken) {\r\n  //     const x = getUserPlaylists();\r\n  //     console.log(x);\r\n  //   }\r\n  // }, []);\r\n\r\n  return (\r\n    <div className=\"player\">\r\n      <Body spotify={spotifyApi} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Player;\r\n","import React, { useState } from \"react\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport PlayArrowIcon from \"@mui/icons-material/PlayArrow\";\r\nimport PauseIcon from \"@mui/icons-material/Pause\";\r\n\r\nimport { playerState } from \"../recoil/atoms/playerStateAtom\";\r\n\r\nexport default function TrackSearchResult({ track, chooseTrack, index }) {\r\n  const [show, setShow] = useState();\r\n  const [playerStateVal, setPlayerState] = useRecoilState(playerState);\r\n  function handlePlay() {\r\n    console.log(track);\r\n    chooseTrack(track);\r\n  }\r\n\r\n  const showPlayorPause = (id) => {\r\n    if (show === id) {\r\n      if (playerStateVal?.playingTrack?.id === id) {\r\n        if (playerStateVal?.playing) return <PauseIcon />;\r\n        else\r\n          return (\r\n            <PlayArrowIcon sx={{ padding: 0, margin: 0, fontSize: \"12px\" }} />\r\n          );\r\n      } else {\r\n        return <PlayArrowIcon />;\r\n      }\r\n    } else {\r\n      return \"\";\r\n    }\r\n\r\n    // spotifyApi.getMyCurrentPlaybackState().then(\r\n    //   function (data) {\r\n    //     // Output items\r\n    //     if (data.body && data.body.is_playing) {\r\n    //       console.log(\r\n    //         \"User is currently playing something!\",\r\n    //         data.body.item.id,\r\n    //         id\r\n    //       );\r\n    //     } else {\r\n    //       console.log(\"User is not playing anything, or doing so in private.\");\r\n    //     }\r\n    //   },\r\n    //   function (err) {\r\n    //     console.log(\"Something went wrong!\", err);\r\n    //   }\r\n    // );\r\n    // if(id === show) {\r\n    //   if()\r\n    // }\r\n  };\r\n  return (\r\n    <div\r\n      className=\"songRow\"\r\n      style={{ cursor: \"pointer\" }}\r\n      onClick={handlePlay}\r\n      onMouseEnter={() => setShow(track?.id)}\r\n      onMouseLeave={() => setShow()}\r\n    >\r\n      <p className=\"mx mb-0\">\r\n        {show === track?.id ? (\r\n          playerStateVal?.playingTrack === track &&\r\n          playerStateVal?.playing === true ? (\r\n            <PauseIcon />\r\n          ) : (\r\n            <PlayArrowIcon className=\"song-play\" />\r\n          )\r\n        ) : (\r\n          index + 1\r\n        )}\r\n      </p>\r\n      <img\r\n        src={track?.albumUrl || track?.album?.images[0]?.url}\r\n        className=\"songRow__album\"\r\n        alt=\"album\"\r\n      />\r\n      <div className=\"songRow__info\">\r\n        <div>{track?.title || track?.name}</div>\r\n        <div className=\"text-muted\">\r\n          {track?.artist || track?.artists?.map((artist) => artist?.name)}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport spotifyApi from \"../spotify\";\r\nconst CategoryItem = ({ item, setSearchPlaylist }) => {\r\n  const accessToken = localStorage.getItem(\"accessToken\");\r\n  const navigate = useNavigate();\r\n  //   const color = randomColor();\r\n  const getPlaylists = (id) => {\r\n    if (accessToken) {\r\n      spotifyApi.setAccessToken(accessToken);\r\n      spotifyApi\r\n        .getPlaylistsForCategory(id, {\r\n          limit: 50,\r\n        })\r\n        .then(\r\n          function (data) {\r\n            console.log(data);\r\n            setSearchPlaylist(data?.body?.playlists?.items);\r\n            navigate(`/search/playlists/${item?.name}`);\r\n          },\r\n          function (err) {\r\n            console.log(\"Something went wrong!\", err);\r\n          }\r\n        );\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"category__item\" onClick={() => getPlaylists(item.id)}>\r\n        <div\r\n          className=\"item-wrapper\"\r\n          style={{\r\n            backgroundColor: `#${item?.color}`,\r\n          }}\r\n        >\r\n          <p>{item.name}</p>\r\n          <img src={item.icons[0].url} alt=\"category\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CategoryItem;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport spotifyAPI from \"../spotify\";\r\nimport PlayIcon from \"./PlayIcon\";\r\n\r\nconst Albums = ({ album, playPlaylist }) => {\r\n  const [show, setShow] = useState(false);\r\n  const call = () => {\r\n    spotifyAPI\r\n      .getAlbum(album?.id)\r\n      .then(function (data) {\r\n        console.log(data);\r\n        return data.body.tracks.items?.map(function (t) {\r\n          return t.id;\r\n        });\r\n      })\r\n      .then(function (trackIds) {\r\n        return spotifyAPI.getTracks(trackIds);\r\n      })\r\n      .then(function (data) {\r\n        console.log(data.body);\r\n        spotifyAPI.play({\r\n          context_uri: album?.uri,\r\n        });\r\n      })\r\n      .catch(function (error) {\r\n        console.error(error);\r\n      });\r\n  };\r\n  return (\r\n    <div>\r\n      <Link to={`/albums/${album.uri.split(\":\")[2]}`} className=\"search-link\">\r\n        <div\r\n          className=\"artist-card\"\r\n          // onClick={() => call()}\r\n          onMouseOver={() => {\r\n            setShow(album.id);\r\n          }}\r\n          onMouseLeave={() => {\r\n            setShow();\r\n          }}\r\n        >\r\n          <div className=\"card-inner\">\r\n            <img\r\n              src={album.albumUrl || album?.images[0]?.url}\r\n              alt=\"artist\"\r\n              className=\"playlist-image\"\r\n            />\r\n            {show === album.id && (\r\n              <PlayIcon\r\n                width=\"40\"\r\n                height=\"40\"\r\n                playPlaylist={() => playPlaylist(album)}\r\n              />\r\n            )}{\" \"}\r\n          </div>\r\n          <div className=\"card-outer\">\r\n            <p className=\"dark m-0 mt-1\">\r\n              {(album.title?.length > 15\r\n                ? album.title?.substring(0, 15) + \"...\"\r\n                : album.title) ||\r\n                (album.name?.length > 15\r\n                  ? album.name?.substring(0, 15) + \"...\"\r\n                  : album.name)}\r\n            </p>\r\n            <p className=\"light m-0\">\r\n              By{\" \"}\r\n              {album?.artist || album?.artists?.map((artist) => artist?.name)}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Albums;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport TrackSearchResult from \"./TrackSearchResult\";\r\n\r\nimport \"../styles/Search.css\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport spotifyApi from \"../spotify\";\r\n\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\nimport CategoryItem from \"./CategoryItem\";\r\nimport randomColor from \"randomcolor\";\r\nimport {\r\n  searchPlaylists,\r\n  searchTracks,\r\n  searchArtists,\r\n  getCategories,\r\n  searchAlbums,\r\n} from \"../services/spotifyFunctions\";\r\nimport Albums from \"./Albums\";\r\nimport PlayIcon from \"./PlayIcon\";\r\nimport { tokenState } from \"../recoil/atoms/userAtom\";\r\nimport { headerState } from \"../recoil/atoms/headerStateAtom\";\r\nimport { playerState } from \"../recoil/atoms/playerStateAtom\";\r\nimport { allPlaylists } from \"../recoil/atoms/playlistStateAtom\";\r\n\r\nconst Header = () => {\r\n  // const [search, setSearch] = useState(\"\");\r\n  // const [searchResults, setSearchResults] = useState();\r\n  const ref = useRef();\r\n  const navigate = useNavigate();\r\n\r\n  const [categories, setCategories] = useState([]);\r\n  // const [lyrics, setLyrics] = useState(\"\");\r\n  const [token] = useRecoilState(tokenState);\r\n  const [headerStateVal, setHeaderState] = useRecoilState(headerState);\r\n  const [playerStateVal, setPlayerState] = useRecoilState(playerState);\r\n  const [playList, setPlayListState] = useRecoilState(allPlaylists);\r\n\r\n  const [songs, setSongs] = useState();\r\n  const [show, setShow] = useState();\r\n  const [albums, setAlbums] = useState();\r\n  const [artists, setArtist] = useState();\r\n  const [searchPlaylist, setSearchPlaylist] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const playPlaylist = (e, id) => {\r\n    let uris;\r\n    console.log(id);\r\n    e.stopPropagation();\r\n    spotifyApi\r\n      .getArtistAlbums(id?.id)\r\n      .then((data) => {\r\n        console.log(\"Artist albums\", data.body);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n    // let availableDevices;\r\n\r\n    // spotifyApi.getMyDevices().then(\r\n    //   function (data) {\r\n    //     availableDevices = data.body.devices[0];\r\n    //     spotifyApi.transferMyPlayback([availableDevices]).then(\r\n    //       function () {\r\n    //         console.log(\"Transfering playback to \" + availableDevices);\r\n    //       },\r\n    //       function (err) {\r\n    //         //if the user making the request is non-premium, a 403 FORBIDDEN response code will be returned\r\n    //         console.log(\"Something went wrong!\", err);\r\n    //       }\r\n    //     );\r\n    //     console.log(availableDevices);\r\n    //   },\r\n    //   function (err) {\r\n    //     console.log(\"Something went wrong!\", err);\r\n    //   }\r\n    // );\r\n    // spotifyApi.play({\r\n    //   uris: uris,\r\n    // });\r\n    // setPlayListState({...playList, activePlaylist: })\r\n    // setPlayerState({ ...playerStateVal, playingTrack: id });\r\n  };\r\n\r\n  const seeall = (type) => {\r\n    if (type === \"artist\") {\r\n      spotifyApi\r\n        ?.searchArtists(headerStateVal?.search, { limit: 50 })\r\n        .then((data) => {\r\n          setArtist(\r\n            data.body.artists.items.map((artist) => {\r\n              const smallestArtistImage = artist?.images.reduce(\r\n                (smallest, image) => {\r\n                  if (image.height > smallest.height) return image;\r\n                  return smallest;\r\n                },\r\n                artist.images[0]\r\n              );\r\n              return {\r\n                name: artist.name,\r\n                uri: artist.uri,\r\n                image: smallestArtistImage?.url,\r\n              };\r\n            })\r\n          );\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n    }\r\n    if (type === \"playlist\") {\r\n      spotifyApi\r\n        .searchPlaylists(headerStateVal?.search, { limit: 50 })\r\n        .then((data) => {\r\n          setSearchPlaylist(\r\n            data.body.playlists.items.map((playlist) => {\r\n              const smallestPlaylistImage = playlist?.images.reduce(\r\n                (smallest, image) => {\r\n                  if (image.height > smallest.height) return image;\r\n                  return smallest;\r\n                },\r\n                playlist.images[0]\r\n              );\r\n\r\n              return {\r\n                name: playlist.name,\r\n                uri: playlist.uri,\r\n                image: smallestPlaylistImage.url,\r\n                owner: playlist.owner,\r\n              };\r\n            })\r\n          );\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n    }\r\n    if (type === \"song\") {\r\n      spotifyApi\r\n        .searchTracks(headerStateVal?.search, { limit: 50 })\r\n        .then((res) => {\r\n          setSongs(\r\n            res.body.tracks.items.map((track) => {\r\n              const smallestAlbumImage = track.album.images.reduce(\r\n                (smallest, image) => {\r\n                  if (image.height < smallest.height) return image;\r\n                  return smallest;\r\n                },\r\n                track.album.images[0]\r\n              );\r\n\r\n              return {\r\n                artist: track.artists[0].name,\r\n                title: track.name,\r\n                uri: track.uri,\r\n                albumUrl: smallestAlbumImage.url,\r\n              };\r\n            })\r\n          );\r\n        });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (headerStateVal?.search?.length <= 0) {\r\n      setSongs();\r\n      setArtist();\r\n      setSearchPlaylist();\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    searchTracks({ keyword: headerStateVal?.search, limit: 4 })\r\n      .then((res) => {\r\n        setSongs(res?.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err\", err);\r\n      });\r\n\r\n    searchPlaylists({ keyword: headerStateVal?.search, limit: 5 })\r\n      .then((res) => {\r\n        setSearchPlaylist(res?.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err\", err);\r\n      });\r\n    searchArtists({ keyword: headerStateVal?.search, limit: 5 })\r\n      .then((res) => {\r\n        setArtist(res?.data);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err\", err);\r\n        setLoading(false);\r\n      });\r\n    searchAlbums({ keyword: headerStateVal?.search, limit: 5 })\r\n      .then((res) => {\r\n        setAlbums(res?.data);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err\", err);\r\n        setLoading(false);\r\n      });\r\n  }, [token, headerStateVal?.search]);\r\n\r\n  useEffect(() => {\r\n    getCategories({ country: \"IN\", offset: 0, limit: 50 })\r\n      .then((res) => {\r\n        setCategories(res?.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  const playSong = (track) => {\r\n    console.log(track);\r\n    if (playerStateVal.playingTrack === track) {\r\n      if (!playerStateVal?.playing) {\r\n        setPlayerState({\r\n          ...playerStateVal,\r\n          playingTrack: track,\r\n          playing: true,\r\n        });\r\n        spotifyApi.play();\r\n      } else {\r\n        spotifyApi.pause();\r\n        setPlayerState({ ...playerStateVal, playing: false });\r\n      }\r\n    } else {\r\n      spotifyApi.play({\r\n        uris: [track?.uri],\r\n      });\r\n      setPlayerState({ ...playerStateVal, playing: true, playingTrack: track });\r\n    }\r\n  };\r\n\r\n  const changeNavbarColor = () => {\r\n    if (ref.current.scrollTop >= 80) {\r\n      setHeaderState({ ...headerStateVal, isBlack: true });\r\n    } else {\r\n      setHeaderState({ ...headerStateVal, isBlack: false });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"search\" id=\"myDiv\" ref={ref} onScroll={changeNavbarColor}>\r\n      <div style={{ marginTop: \"80px\" }}>\r\n        {/* <div className=\"search-top\"></div> */}\r\n        {headerStateVal?.search.length > 0 ? (\r\n          <>\r\n            {!loading ? (\r\n              <>\r\n                <div className=\"search-results\">\r\n                  {songs?.length > 0 && (\r\n                    <>\r\n                      <div className=\"result-head\">\r\n                        <h2 className=\"head\">Songs</h2>\r\n                        <Link\r\n                          to={`/search/songs/${headerStateVal?.search}`}\r\n                          className=\"see-all\"\r\n                        >\r\n                          SEE ALL\r\n                        </Link>\r\n                      </div>\r\n                      {songs?.map((item, index) => (\r\n                        <TrackSearchResult\r\n                          track={item}\r\n                          key={item?.uri}\r\n                          index={index}\r\n                          chooseTrack={() => playSong(item)}\r\n                          seeall={() => seeall(songs)}\r\n                        />\r\n                      ))}\r\n                    </>\r\n                  )}\r\n                  <div className=\"result-head\">\r\n                    <h2 className=\"head\">Artists</h2>\r\n                    <Link\r\n                      to={`/search/artists/${headerStateVal?.search}`}\r\n                      className=\"see-all\"\r\n                    >\r\n                      SEE ALL\r\n                    </Link>\r\n                  </div>\r\n                  <div className=\"search-result-artist\">\r\n                    {artists?.map((artist) => (\r\n                      <div\r\n                        onClick={() =>\r\n                          navigate(`/artist/${artist.uri.split(\":\")[2]}`)\r\n                        }\r\n                      >\r\n                        <div\r\n                          className=\"artist-card\"\r\n                          onMouseOver={() => {\r\n                            setShow(artist.uri);\r\n                          }}\r\n                          onMouseLeave={() => {\r\n                            setShow();\r\n                          }}\r\n                        >\r\n                          <div className=\"card-inner\">\r\n                            <img\r\n                              src={artist.image}\r\n                              alt=\"artist\"\r\n                              className=\"artist-image\"\r\n                            />\r\n                            {show === artist.uri && (\r\n                              <PlayIcon\r\n                                width=\"40\"\r\n                                height=\"40\"\r\n                                item={artist}\r\n                                playPlaylist={playPlaylist}\r\n                              />\r\n                            )}\r\n                          </div>\r\n                          <div className=\"card-outer\">\r\n                            <p className=\"mt-1\">\r\n                              {artist.name?.length > 15\r\n                                ? artist.name?.substring(0, 15) + \"...\"\r\n                                : artist.name}{\" \"}\r\n                            </p>\r\n                            <p className=\"light\">Artist</p>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                  {/* </div> */}\r\n                  <div>\r\n                    <div className=\"result-head\">\r\n                      <h2 className=\"head\">Playlists</h2>\r\n                      <Link\r\n                        to={`/search/playlists/${headerStateVal?.search}`}\r\n                        className=\"see-all\"\r\n                      >\r\n                        SEE ALL\r\n                      </Link>\r\n                    </div>\r\n                    {searchPlaylist?.length <= 5 && (\r\n                      <div className=\"search-result-artist\">\r\n                        {searchPlaylist?.map((playlist) => (\r\n                          <Link\r\n                            to={`/playlist/${playlist.uri.split(\":\")[2]}`}\r\n                            className=\"search-link\"\r\n                          >\r\n                            <div\r\n                              className=\"artist-card\"\r\n                              onClick={(e) => playPlaylist(e, playlist)}\r\n                              onMouseOver={() => {\r\n                                setShow(playlist.uri);\r\n                              }}\r\n                              onMouseLeave={() => {\r\n                                setShow();\r\n                              }}\r\n                            >\r\n                              <div className=\"card-inner\">\r\n                                <img\r\n                                  src={playlist.image}\r\n                                  alt=\"artist\"\r\n                                  className=\"playlist-image\"\r\n                                />\r\n                                {show === playlist.uri && (\r\n                                  <PlayIcon\r\n                                    width=\"40\"\r\n                                    height=\"40\"\r\n                                    playPlaylist={(e) =>\r\n                                      playPlaylist(e, playlist)\r\n                                    }\r\n                                  />\r\n                                )}{\" \"}\r\n                              </div>\r\n                              <div className=\"card-outer\">\r\n                                <p className=\"mt-1\">\r\n                                  {playlist.name?.length > 15\r\n                                    ? playlist.name?.substring(0, 15) + \"...\"\r\n                                    : playlist.name}\r\n                                </p>\r\n                                <p className=\"light\">\r\n                                  By {playlist?.owner?.display_name}\r\n                                </p>\r\n                              </div>\r\n                            </div>\r\n                          </Link>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"result-head\">\r\n                    <h2 className=\"head\">Albums</h2>\r\n                    <Link\r\n                      to={`/search/albums/${headerStateVal?.search}`}\r\n                      className=\"see-all\"\r\n                    >\r\n                      SEE ALL\r\n                    </Link>\r\n                  </div>\r\n                  <div className=\"search-result-artist\">\r\n                    {albums?.map((album) => (\r\n                      <Albums\r\n                        album={album}\r\n                        playPlaylist={(e) => playPlaylist(e, album)}\r\n                        show={show}\r\n                        setShow={() => setShow()}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"center\",\r\n                  alignItems: \"center\",\r\n                  minHeight: \"100vh\",\r\n                }}\r\n              >\r\n                <CircularProgress />\r\n              </div>\r\n            )}\r\n          </>\r\n        ) : (\r\n          <>\r\n            <h1 className=\"categories-head\">Browse all</h1>\r\n            <div className=\"categories\">\r\n              {categories?.map((item) => (\r\n                <CategoryItem\r\n                  item={item}\r\n                  setSearchPlaylist={setSearchPlaylist}\r\n                />\r\n              ))}\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport PlayArrowIcon from \"@mui/icons-material/PlayArrow\";\r\nimport PauseIcon from \"@mui/icons-material/Pause\";\r\nimport \"../styles/SongRow.css\";\r\nimport { playerState } from \"../recoil/atoms/playerStateAtom\";\r\n\r\nfunction SongRow({ track, index, show, date }) {\r\n  const [playerStateVal, setPlayerState] = useRecoilState(playerState);\r\n  function millisToMinutesAndSeconds(millis) {\r\n    var minutes = Math.floor(millis / 60000);\r\n    var seconds = ((millis % 60000) / 1000).toFixed(0);\r\n    return minutes + \":\" + (seconds < 10 ? \"0\" : \"\") + seconds;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <td className=\"song-number\">\r\n        {show === track?.id ? (\r\n          playerStateVal?.playingTrack === track &&\r\n          playerStateVal?.playing === true ? (\r\n            <PauseIcon />\r\n          ) : (\r\n            <PlayArrowIcon className=\"song-play\" />\r\n          )\r\n        ) : (\r\n          index + 1\r\n        )}\r\n      </td>\r\n      <td className=\"song-title\">\r\n        <img\r\n          className=\"songRow__album\"\r\n          src={track?.album?.images[0]?.url}\r\n          alt=\"\"\r\n        />\r\n        <span className=\"songRow__info\">\r\n          <h6 className=\"mb-0\">\r\n            {track?.name?.length > 42\r\n              ? track?.name?.substring(0, 42) + \"...\"\r\n              : track?.name}\r\n          </h6>\r\n          <p className=\"mb-0\">\r\n            {track?.artists?.map((artist) => artist?.name).join(\", \")} -{\" \"}\r\n          </p>\r\n        </span>\r\n      </td>\r\n      <td className=\"song-album\">{track?.album?.name}</td>\r\n      <td className=\"song-date\">\r\n        {new Date(date)?.toISOString()?.split(\"T\")[0]}\r\n      </td>\r\n      <td className=\"song-time\">\r\n        {millisToMinutesAndSeconds(track?.duration_ms)}\r\n      </td>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SongRow;\r\n","import { atom } from \"recoil\";\r\n\r\nexport const activePlaylist = atom({\r\n  key: \"active\",\r\n  default: [],\r\n});\r\n","import React from \"react\";\r\n\r\nconst PauseIcon = ({ playPlaylist, item }) => {\r\n  return (\r\n    <div\r\n      className=\"cursor-pointer\"\r\n      style={{\r\n        backgroundColor: \"#1DB954\",\r\n        borderRadius: \"500px\",\r\n        fontSize: \"inherit\",\r\n        inlineSize: \"56px\",\r\n        blockSize: \"56px\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n      }}\r\n      onClick={(e) => playPlaylist(e, item)}\r\n    >\r\n      <span aria-hidden=\"true\" class=\"IconWrapper__Wrapper-sc-1hf1hjl-0 dZGDpi\">\r\n        <svg\r\n          role=\"img\"\r\n          height=\"28\"\r\n          width=\"28\"\r\n          viewBox=\"0 0 24 24\"\r\n          class=\"Svg-sc-1bi12j5-0 jgfuCe\"\r\n        >\r\n          <path d=\"M5.7 3a.7.7 0 00-.7.7v16.6a.7.7 0 00.7.7h2.6a.7.7 0 00.7-.7V3.7a.7.7 0 00-.7-.7H5.7zm10 0a.7.7 0 00-.7.7v16.6a.7.7 0 00.7.7h2.6a.7.7 0 00.7-.7V3.7a.7.7 0 00-.7-.7h-2.6z\"></path>\r\n        </svg>\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PauseIcon;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useParams, Link, useLocation } from \"react-router-dom\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport spotifyApi from \"../spotify\";\r\nimport SongRow from \"../components/SongRow\";\r\n// import { some } from \"lodash/some\";\r\n\r\nimport MoreHorizOutlinedIcon from \"@mui/icons-material/MoreHorizOutlined\";\r\nimport AccessTimeIcon from \"@mui/icons-material/AccessTime\";\r\n\r\nimport \"../styles/PlayPlaylist.css\";\r\nimport { getPlaylist } from \"../services/spotifyFunctions\";\r\nimport PlayIcon from \"./PlayIcon\";\r\nimport { playerState } from \"../recoil/atoms/playerStateAtom\";\r\nimport { headerState } from \"../recoil/atoms/headerStateAtom\";\r\nimport { activePlaylist } from \"../recoil/atoms/activePlaylistAtom\";\r\nimport PauseIcon from \"../assets/images/pause-icon\";\r\nimport _ from \"lodash\";\r\n\r\nconst PlaylistPlayer = () => {\r\n  const { id } = useParams();\r\n  const { pathname } = useLocation();\r\n  const ref = useRef();\r\n\r\n  const [show, setShow] = useState();\r\n  const [playerStateVal, setPlayerState] = useRecoilState(playerState);\r\n  const [active, setActivePlaylist] = useRecoilState(activePlaylist);\r\n  const [headerStateVal, setHeaderState] = useRecoilState(headerState);\r\n  const accessToken = localStorage.getItem(\"accessToken\");\r\n  const playPlaylist = () => {\r\n    if (\r\n      playerStateVal?.playing &&\r\n      playerStateVal?.playlistUri === active?.uri\r\n    ) {\r\n      setPlayerState({ ...playerStateVal, playing: false });\r\n      spotifyApi.pause();\r\n    } else {\r\n      spotifyApi.setAccessToken(accessToken);\r\n      spotifyApi.play({\r\n        context_uri: active?.uri,\r\n      });\r\n      console.log(active);\r\n      setPlayerState({\r\n        ...playerStateVal,\r\n        playing: true,\r\n        playingTrack: active?.tracks?.items?.[0]?.track,\r\n        playlistUri: active?.uri,\r\n      });\r\n    }\r\n  };\r\n\r\n  const playSong = (track) => {\r\n    console.log(track);\r\n    if (playerStateVal.playingTrack === track) {\r\n      if (!playerStateVal?.playing) {\r\n        setPlayerState({\r\n          ...playerStateVal,\r\n          playingTrack: track,\r\n          playing: true,\r\n        });\r\n        spotifyApi.play();\r\n      } else {\r\n        spotifyApi.pause();\r\n        setPlayerState({ ...playerStateVal, playing: false });\r\n      }\r\n    } else {\r\n      spotifyApi.play({\r\n        uris: [track?.uri],\r\n      });\r\n      setPlayerState({ ...playerStateVal, playing: true, playingTrack: track });\r\n    }\r\n  };\r\n\r\n  const changeNavbarColor = () => {\r\n    if (ref.current.scrollTop >= 80) {\r\n      setHeaderState({ ...headerStateVal, isBlack: true });\r\n    } else {\r\n      setHeaderState({ ...headerStateVal, isBlack: false });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (pathname.split(\"/\")[1] === \"playlist\") {\r\n      getPlaylist({ id: id })\r\n        .then((res) => {\r\n          console.log(res);\r\n          setActivePlaylist(res?.data);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    } else if (pathname.split(\"/\")[1] === \"artist\") {\r\n      spotifyApi.getArtistAlbums(id).then(\r\n        function (data) {\r\n          console.log(\"Artist albums\", data.body);\r\n        },\r\n        function (err) {\r\n          console.error(err);\r\n        }\r\n      );\r\n    }\r\n  }, [id]);\r\n\r\n  return (\r\n    <div className=\"play-playlist\" ref={ref} onScroll={changeNavbarColor}>\r\n      <div\r\n        className=\"body__info\"\r\n        style={{\r\n          background: `linear-gradient(#${active?.primary_color}, #121212 )`,\r\n        }}\r\n      >\r\n        <div className=\"d-flex\">\r\n          <div>\r\n            <img\r\n              className=\"\"\r\n              height={192}\r\n              width={192}\r\n              src={active?.images ? active?.images[0]?.url : \"\"}\r\n            />\r\n          </div>\r\n          <div className=\"body__infoText ms-2 mt-5\">\r\n            <strong>PLAYLISTS</strong>\r\n            <h2>{active?.name}</h2>\r\n            <p>{active?.description}</p>\r\n            <small>\r\n              <Link to=\"/\">{active?.owner?.display_name}</Link>{\" \"}\r\n              <span className=\"dot\">•</span>\r\n              <span className=\"p-2\">\r\n                {active?.tracks?.items?.length} Songs,{\" \"}\r\n              </span>\r\n              <span className=\"p-2\">{active?.tracks?.items?.length} Songs</span>\r\n            </small>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"body__songs\">\r\n        <div className=\"body__icons\">\r\n          <span>\r\n            {playerStateVal?.playing &&\r\n            playerStateVal?.playlistUri === active?.uri ? (\r\n              <PauseIcon playPlaylist={() => playPlaylist()} />\r\n            ) : (\r\n              <PlayIcon\r\n                width=\"56\"\r\n                height=\"56\"\r\n                playPlaylist={() => playPlaylist()}\r\n              />\r\n            )}\r\n          </span>\r\n\r\n          <MoreHorizOutlinedIcon className=\"more\" />\r\n        </div>\r\n        <table className=\"songs\">\r\n          <thead>\r\n            <tr className=\"songs-head\">\r\n              <th className=\"song-number\">#</th>\r\n              <th className=\"song-title\">TITLE</th>\r\n              <th className=\"song-album\">ALBUM</th>\r\n              <th className=\"song-date\">DATE ADDED</th>\r\n              <th className=\"song-time\">\r\n                <AccessTimeIcon />\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {active?.tracks?.items?.map((item, index) => (\r\n              <tr\r\n                className=\"songRow\"\r\n                onClick={() => playSong(item.track)}\r\n                onMouseEnter={() => setShow(item?.track?.id)}\r\n                onMouseLeave={() => setShow()}\r\n              >\r\n                <SongRow\r\n                  track={item.track}\r\n                  index={index}\r\n                  key={item?.id}\r\n                  show={show}\r\n                  date={item.added_at}\r\n                />\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlaylistPlayer;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport {\r\n  searchArtists,\r\n  searchPlaylists,\r\n  searchTracks,\r\n} from \"../services/spotifyFunctions\";\r\nimport \"../styles/SearchAll.css\";\r\nimport TrackSearchResult from \"./TrackSearchResult\";\r\nimport PlayIcon from \"./PlayIcon\";\r\nimport { playerState } from \"../recoil/atoms/playerStateAtom\";\r\nimport { headerState } from \"../recoil/atoms/headerStateAtom\";\r\nimport { Link } from \"react-router-dom\";\r\nimport spotifyAPI from \"../spotify\";\r\nconst SearchAll = () => {\r\n  const ref = useRef();\r\n\r\n  const [playerStateVal, setPlayerState] = useRecoilState(playerState);\r\n  const [headerStateVal, setHeaderState] = useRecoilState(headerState);\r\n  //   const keyword = path?.slice(3);\r\n  const [show, setShow] = useState();\r\n  const [songs, setSongs] = useState();\r\n  const [artists, setArtist] = useState();\r\n  const [playlists, setPlaylists] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const path = window.location.pathname?.split(\"/\");\r\n\r\n    if (path[2] === \"artists\") {\r\n      searchArtists({ keyword: path[3], limit: 50 })\r\n        .then((res) => {\r\n          console.log(\"Essssss\", res);\r\n          setArtist(res?.data);\r\n          setLoading(false);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"err\", err);\r\n          setLoading(false);\r\n        });\r\n    }\r\n    if (path[2] === \"playlists\") {\r\n      searchPlaylists({ keyword: path[3], limit: 50 })\r\n        .then((res) => {\r\n          console.log(\"playlistssssss\", res);\r\n          setPlaylists(res?.data);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"err\", err);\r\n        });\r\n    }\r\n    if (path[2] === \"songs\") {\r\n      searchTracks({ keyword: path[3], limit: 50 })\r\n        .then((res) => {\r\n          console.log(\"songssss\", res);\r\n          setSongs(res?.data);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"err\", err);\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  const playPlaylist = (id) => {\r\n    setPlayerState({ ...playerStateVal, playingTrack: id });\r\n  };\r\n\r\n  const playSong = (track) => {\r\n    console.log(track);\r\n    if (playerStateVal.playingTrack === track) {\r\n      if (!playerStateVal?.playing) {\r\n        setPlayerState({\r\n          ...playerStateVal,\r\n          playingTrack: track,\r\n          playing: true,\r\n        });\r\n        spotifyAPI.play();\r\n      } else {\r\n        spotifyAPI.pause();\r\n        setPlayerState({ ...playerStateVal, playing: false });\r\n      }\r\n    } else {\r\n      spotifyAPI.play({\r\n        uris: [track?.uri],\r\n      });\r\n      setPlayerState({ ...playerStateVal, playing: true, playingTrack: track });\r\n    }\r\n  };\r\n\r\n  const changeNavbarColor = () => {\r\n    if (ref.current.scrollTop >= 80) {\r\n      setHeaderState({ ...headerStateVal, isBlack: true });\r\n    } else {\r\n      setHeaderState({ ...headerStateVal, isBlack: false });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"search\" ref={ref} onScroll={changeNavbarColor}>\r\n      <div style={{ marginTop: \"40px\" }}>\r\n        <div className=\"search-results\">\r\n          {artists?.length > 0 && (\r\n            <>\r\n              <div className=\"result-head\">\r\n                <h2 className=\"head\">Artists</h2>\r\n              </div>\r\n              <div className=\"search-result-artist\">\r\n                {artists?.map((artist) => (\r\n                  <Link\r\n                    to={`/artist/${artist?.uri?.split(\":\")[2]}`}\r\n                    className=\"search-link\"\r\n                  >\r\n                    <div\r\n                      className=\"artist-card\"\r\n                      onMouseOver={() => {\r\n                        setShow(artist.uri);\r\n                      }}\r\n                      onMouseLeave={() => {\r\n                        setShow();\r\n                      }}\r\n                    >\r\n                      <div className=\"card-inner\">\r\n                        <img\r\n                          src={artist.image}\r\n                          alt=\"artist\"\r\n                          className=\"artist-image\"\r\n                        />\r\n                        {show === artist.uri && (\r\n                          <PlayIcon\r\n                            width=\"40\"\r\n                            height=\"40\"\r\n                            playPlaylist={() => playPlaylist(artist)}\r\n                          />\r\n                        )}{\" \"}\r\n                      </div>\r\n                      <div className=\"card-outer\">\r\n                        <p className=\"mt-1\">\r\n                          {artist.name?.length > 15\r\n                            ? artist.name?.substring(0, 15) + \"...\"\r\n                            : artist.name}\r\n                        </p>\r\n                        <p className=\"light\">Artist</p>\r\n                      </div>\r\n                    </div>\r\n                  </Link>\r\n                ))}\r\n              </div>\r\n            </>\r\n          )}\r\n          {playlists?.length > 0 && (\r\n            <>\r\n              <div className=\"result-head pb-5\">\r\n                <h1 className=\"head\">{console.log(playlists)} Playlists</h1>\r\n              </div>\r\n              <div className=\"search-result-artist\">\r\n                {playlists?.map((playlist) => (\r\n                  <Link\r\n                    to={`/playlist/${playlist.uri.split(\":\")[2]}`}\r\n                    className=\"search-link\"\r\n                  >\r\n                    <div\r\n                      className=\"artist-card\"\r\n                      onClick={() => playPlaylist(playlist)}\r\n                      onMouseOver={() => {\r\n                        setShow(playlist.uri);\r\n                      }}\r\n                      onMouseLeave={() => {\r\n                        setShow();\r\n                      }}\r\n                    >\r\n                      <div className=\"card-inner\">\r\n                        <img\r\n                          src={playlist.image}\r\n                          alt=\"artist\"\r\n                          className=\"playlist-image\"\r\n                        />\r\n                        {show === playlist.uri && (\r\n                          <PlayIcon\r\n                            width=\"40\"\r\n                            height=\"40\"\r\n                            playPlaylist={() => playPlaylist(playlist)}\r\n                          />\r\n                        )}\r\n                      </div>\r\n                      <div className=\"card-outer\">\r\n                        <p className=\"mt-1\">\r\n                          {playlist.name?.length > 15\r\n                            ? playlist.name?.substring(0, 15) + \"...\"\r\n                            : playlist.name}\r\n                        </p>\r\n                        <p className=\"light\">\r\n                          By {playlist?.owner?.display_name}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </Link>\r\n                ))}\r\n              </div>\r\n            </>\r\n          )}\r\n          {songs?.length > 0 && (\r\n            <>\r\n              <div className=\"result-head\">\r\n                <h2 className=\"head\">Playlists</h2>\r\n              </div>\r\n              {songs?.map((item, index) => (\r\n                <TrackSearchResult\r\n                  track={item}\r\n                  key={item?.uri}\r\n                  chooseTrack={() => playSong(item)}\r\n                  index={index}\r\n                />\r\n              ))}\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchAll;\r\n","import React from \"react\";\r\n\r\nconst Library = () => {\r\n  return (\r\n    <div className=\"search\">\r\n      <div style={{ marginTop: \"40px\" }}>\r\n        <h2>Playlists</h2>\r\n        <div className=\"\"></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Library;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { headerState } from \"../recoil/atoms/headerStateAtom\";\r\nimport { playerState } from \"../recoil/atoms/playerStateAtom\";\r\nimport spotifyAPI from \"../spotify\";\r\nimport SongRow from \"./SongRow\";\r\nimport AccessTimeIcon from \"@mui/icons-material/AccessTime\";\r\n\r\nconst ListAlbumSongs = () => {\r\n  const { id } = useParams();\r\n  const ref = useRef();\r\n  const [tracks, setTracks] = useState([]);\r\n  const [playerStateVal, setPlayerState] = useRecoilState(playerState);\r\n  const [headerStateVal, setHeaderState] = useRecoilState(headerState);\r\n\r\n  const [albumDetails, setAlbumDetails] = useState();\r\n  const [show, setShow] = useState();\r\n\r\n  const playSong = (track) => {\r\n    console.log(track);\r\n    if (playerStateVal.playingTrack === track) {\r\n      if (!playerStateVal?.playing) {\r\n        setPlayerState({\r\n          ...playerStateVal,\r\n          playingTrack: track,\r\n          playing: true,\r\n        });\r\n        spotifyAPI.play();\r\n      } else {\r\n        spotifyAPI.pause();\r\n        setPlayerState({ ...playerStateVal, playing: false });\r\n      }\r\n    } else {\r\n      spotifyAPI.play({\r\n        uris: [track?.uri],\r\n      });\r\n      setPlayerState({ ...playerStateVal, playing: true, playingTrack: track });\r\n    }\r\n  };\r\n\r\n  const changeNavbarColor = () => {\r\n    if (ref.current.scrollTop >= 80) {\r\n      setHeaderState({ ...headerStateVal, isBlack: true });\r\n    } else {\r\n      setHeaderState({ ...headerStateVal, isBlack: false });\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    spotifyAPI\r\n      .getAlbum(id)\r\n      .then(function (data) {\r\n        console.log(data);\r\n        setAlbumDetails(data?.body);\r\n        return data.body.tracks.items?.map(function (t) {\r\n          return t.id;\r\n        });\r\n      })\r\n      .then(function (trackIds) {\r\n        return spotifyAPI.getTracks(trackIds);\r\n      })\r\n      .then(function (data) {\r\n        console.log(data.body);\r\n        setTracks(data?.body?.tracks);\r\n      })\r\n      .catch(function (error) {\r\n        console.error(error);\r\n      });\r\n  }, [id]);\r\n\r\n  return (\r\n    <div className=\"play-playlist\" ref={ref} onScroll={changeNavbarColor}>\r\n      <div\r\n        className=\"body__info\"\r\n        style={\r\n          {\r\n            // background: `linear-gradient(#${active?.primary_color}, #121212 )`,\r\n          }\r\n        }\r\n      >\r\n        <div className=\"d-flex\">\r\n          <div>\r\n            {/* <img\r\n              className=\"\"\r\n              height={192}\r\n              width={192}\r\n              src={active?.images ? active?.images[0]?.url : \"\"}\r\n            /> */}\r\n          </div>\r\n          <div className=\"body__infoText ms-2 mt-5\">\r\n            <strong>PLAYLISTS</strong>\r\n            {/* <h2>{active?.name}</h2>\r\n            <p>{active?.description}</p>\r\n            <small>\r\n              <Link to=\"/\">{active?.owner?.display_name}</Link>{\" \"}\r\n              <span className=\"dot\">•</span>\r\n              <span className=\"p-2\">\r\n                {active?.tracks?.items?.length} Songs,{\" \"}\r\n              </span>\r\n              <span className=\"p-2\">{active?.tracks?.items?.length} Songs</span>\r\n            </small> */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"body__songs\">\r\n        {/* <div className=\"body__icons\">\r\n          <PlayIcon\r\n            width=\"56\"\r\n            height=\"56\"\r\n            playPlaylist={() => playPlaylist()}\r\n          />\r\n          <MoreHorizOutlinedIcon className=\"more\" />\r\n        </div> */}\r\n        <table className=\"songs\">\r\n          <thead>\r\n            <tr className=\"songs-head\">\r\n              <th className=\"song-number\">#</th>\r\n              <th className=\"song-title\">TITLE</th>\r\n              <th className=\"song-album\">ALBUM</th>\r\n              <th className=\"song-date\">DATE ADDED</th>\r\n              <th className=\"song-time\">\r\n                <AccessTimeIcon />\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {tracks?.map((track, index) => (\r\n              <tr\r\n                className=\"songRow\"\r\n                onClick={() => playSong(track)}\r\n                onMouseEnter={() => setShow(track?.id)}\r\n                onMouseLeave={() => setShow()}\r\n              >\r\n                <SongRow\r\n                  track={track}\r\n                  index={index}\r\n                  key={track?.id}\r\n                  show={show}\r\n                  date={track?.album?.release_date}\r\n                />\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n        {/* <div className=\"w-100 px-2 mb-5 pb-5\">\r\n      <div className=\"p-5 mt-5\">\r\n        <h6 className=\"text-white\">{albumDetails?.name}</h6>\r\n      </div>\r\n      <div className=\"d-flex flex-column w-100 mb-5 search\">\r\n        {tracks?.map((track, index) => (\r\n          <div\r\n            onClick={() => playSong(track)}\r\n            className=\"cursor-pointer\"\r\n            onMouseEnter={() => setShow(track?.id)}\r\n            onMouseLeave={() => setShow()}\r\n          >\r\n            <SongRow\r\n              playSong={() => playSong(track)}\r\n              track={track}\r\n              index={index}\r\n              key={track?.id}\r\n              show={show}\r\n              date={track?.album?.release_date}\r\n            />\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div> */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ListAlbumSongs;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { playerState } from \"../recoil/atoms/playerStateAtom\";\r\nimport spotifyAPI from \"../spotify\";\r\nimport Albums from \"./Albums\";\r\nimport SongRow from \"./SongRow\";\r\nimport TrackSearchResult from \"./TrackSearchResult\";\r\n\r\nconst ListArtistSongs = () => {\r\n  const { id } = useParams();\r\n  const [tracks, setTracks] = useState([]);\r\n  const [albums, setAlbums] = useState([]);\r\n  const [playerStateVal, setPlayerState] = useRecoilState(playerState);\r\n\r\n  function chooseTrack(track) {\r\n    if (\r\n      playerStateVal?.playingTrack === track &&\r\n      playerStateVal?.playing === true\r\n    ) {\r\n      setPlayerState({ ...playerStateVal, playingTrack: null, playing: false });\r\n    } else {\r\n      setPlayerState({ ...playerStateVal, playingTrack: track });\r\n    }\r\n    // setSearch(\"\");\r\n    // setLyrics(\"\");\r\n  }\r\n  useEffect(() => {\r\n    spotifyAPI.getArtistAlbums(id).then(\r\n      function (data) {\r\n        console.log(\"Artist albums\", data.body);\r\n        setAlbums(data?.body?.items);\r\n      },\r\n      function (err) {\r\n        console.error(err);\r\n      }\r\n    );\r\n  }, [id]);\r\n\r\n  return (\r\n    <div className=\"search\">\r\n      <div style={{ marginTop: \"80px\" }}>\r\n        <div className=\"search-results\">\r\n          <div className=\"result-head\">\r\n            <h2 className=\"head\">Artist</h2>\r\n          </div>\r\n          <div className=\"search-result-artist\">\r\n            {albums?.map((album) => (\r\n              <Albums album={album} />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ListArtistSongs;\r\n","import { Navigate, useRoutes } from \"react-router-dom\";\r\n\r\nimport Player from \"../components/Player\";\r\nimport Search from \"../components/Search\";\r\nimport PlaylistPlayer from \"../components/PlaylistPlayer\";\r\nimport SearchAll from \"../components/SearchAll\";\r\nimport Library from \"../components/Library\";\r\nimport ListAlbumSongs from \"../components/ListAlbumSongs\";\r\nimport ListArtistSongs from \"../components/ListArtistSongs\";\r\n\r\nconst PortalRoutes = () => {\r\n  const portalRoutes = useRoutes([\r\n    {\r\n      path: \"home\",\r\n      element: <Player />,\r\n    },\r\n    {\r\n      path: \"create-playlist\",\r\n      element: <Player />,\r\n    },\r\n    {\r\n      path: \"search\",\r\n      element: <Search />,\r\n    },\r\n    {\r\n      path: \"playlist/:id\",\r\n      element: <PlaylistPlayer />,\r\n    },\r\n    {\r\n      path: \"artist/:id\",\r\n      element: <ListArtistSongs />,\r\n    },\r\n    {\r\n      path: \"albums/:id\",\r\n      element: <ListAlbumSongs />,\r\n    },\r\n    {\r\n      path: \"search/:path/:search\",\r\n      element: <SearchAll />,\r\n    },\r\n    {\r\n      path: \"library\",\r\n      element: <Library />,\r\n    },\r\n    {\r\n      path: \"/\",\r\n      element: <Player />,\r\n    },\r\n  ]);\r\n  return portalRoutes;\r\n};\r\n\r\nexport default PortalRoutes;\r\n","import React, { useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useRecoilState } from \"recoil\";\r\n\r\nimport Footer from \"../Footer\";\r\nimport Sidebar from \"../Sidebar\";\r\nimport Header from \"../Header\";\r\nimport spotifyApi from \"../../spotify\";\r\nimport { getTokenFromUrl } from \"../../spotify\";\r\nimport PortalRoutes from \"../../routes/portal\";\r\nimport { tokenState } from \"../../recoil/atoms/userAtom\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { allPlaylists } from \"../../recoil/atoms/playlistStateAtom\";\r\n\r\nclass ErrorBoundary extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { hasError: false };\r\n  }\r\n\r\n  static getDerivedStateFromError(error) {\r\n    return { hasError: true };\r\n  }\r\n\r\n  componentDidCatch(error, errorInfo) {\r\n    console.log(\"error\", error);\r\n  }\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    const { hasError } = this.state;\r\n    if (hasError) {\r\n      return (\r\n        <div className=\"something-wrong\">\r\n          <div className=\"something-wrong--inner\">\r\n            <h3>Something went wrong.</h3>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return children;\r\n  }\r\n}\r\n\r\nconst Portal = () => {\r\n  const [, setToken] = useRecoilState(tokenState);\r\n  const navigate = useNavigate();\r\n\r\n  const refreshToken = localStorage.getItem(\"refreshToken\");\r\n  const expiresIn = localStorage.getItem(\"expiresIn\");\r\n  const accessToken = localStorage.getItem(\"accessToken\");\r\n  const [playList, setPlayLists] = useRecoilState(allPlaylists);\r\n\r\n  useEffect(() => {\r\n    if (accessToken) {\r\n      spotifyApi?.setAccessToken(accessToken);\r\n      spotifyApi\r\n        ?.getUserPlaylists()\r\n        .then((res) => {\r\n          setPlayLists(res?.body);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err.message);\r\n        });\r\n    }\r\n  }, [accessToken]);\r\n\r\n  useEffect(() => {\r\n    if (refreshToken) {\r\n      if (!accessToken || new Date().getTime() >= expiresIn) {\r\n        axios\r\n          .post(\"http://localhost:4000/refresh\", {\r\n            refreshToken,\r\n          })\r\n          .then((res) => {\r\n            console.log(res);\r\n            localStorage.setItem(\"accessToken\", res?.data?.accessToken);\r\n            const expires = new Date().getTime() + res?.data?.expiresIn * 1000;\r\n\r\n            localStorage.setItem(\"expiresIn\", expires);\r\n            setToken(res?.data?.accessToken);\r\n            spotifyApi.setAccessToken(accessToken);\r\n            navigate(\"/home\");\r\n          })\r\n          .catch(() => {\r\n            window.location = \"/\";\r\n          });\r\n      } else {\r\n        setToken(accessToken);\r\n      }\r\n    } else {\r\n      navigate(\"/auth\");\r\n    }\r\n  }, [navigate, refreshToken]);\r\n\r\n  return (\r\n    <div>\r\n      <ErrorBoundary>\r\n        <div className=\"player__body\">\r\n          <Sidebar />\r\n          <Header />\r\n          <PortalRoutes />\r\n        </div>\r\n        <Footer spotify={spotifyApi} />\r\n      </ErrorBoundary>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Portal;\r\n","import { useRoutes } from \"react-router-dom\";\r\nimport GetToken from \"../components/GetToken\";\r\nimport AuthLayout from \"../components/layouts/auth\";\r\nimport PortalLayout from \"../components/layouts/portal\";\r\n\r\nconst BaseRoutes = () => {\r\n  let baseRoutes = useRoutes([\r\n    {\r\n      path: \"auth/*\",\r\n      element: <AuthLayout />,\r\n    },\r\n    {\r\n      path: \"redirect/*\",\r\n      element: <GetToken />,\r\n    },\r\n    {\r\n      path: \"/*\",\r\n      element: <PortalLayout />,\r\n    },\r\n  ]);\r\n  return baseRoutes;\r\n};\r\nexport default BaseRoutes;\r\n","import React from \"react\";\r\n\r\nimport \"../styles/App.css\";\r\nimport BaseRoutes from \"../routes/index\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <div className=\"App\">\r\n      <BaseRoutes />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { RecoilRoot } from \"recoil\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nimport App from \"./components/App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport \"./styles/index.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <RecoilRoot>\r\n        <App />\r\n      </RecoilRoot>\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}